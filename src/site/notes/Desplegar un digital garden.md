---
{"dg-publish":true,"permalink":"/desplegar-un-digital-garden/"}
---

## Cómo desplegar un digital garden

<style> .container {font-family: sans-serif; text-align: center;} .button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;} .excalidraw .App-menu_top .buttonList { display: flex;} .excalidraw-wrapper { height: 800px; margin: 50px; position: relative;} :root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;} </style><script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@excalidraw/excalidraw@0/dist/excalidraw.production.min.js"></script><div id="Drawing_2024-01-30_1417.21.excalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.0.18","elements":[{"type":"rectangle","version":326,"versionNonce":917560374,"isDeleted":false,"id":"ofi8gyPudedckbmWUv3_5","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-367,"y":-77.2578125,"strokeColor":"#1e1e1e","backgroundColor":"#d0bfff","width":98,"height":60,"seed":1034970294,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"CIFb2IVD"},{"id":"ldmdx5jtoMbblHkeKbdof","type":"arrow"}],"updated":1706645093899,"link":null,"locked":false},{"type":"text","version":289,"versionNonce":1184491574,"isDeleted":false,"id":"CIFb2IVD","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-355.4599609375,"y":-72.2578125,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":74.919921875,"height":50,"seed":745367082,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1706642503208,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"obsidian\nvault","rawText":"obsidian vault","textAlign":"center","verticalAlign":"middle","containerId":"ofi8gyPudedckbmWUv3_5","originalText":"obsidian vault","lineHeight":1.25,"baseline":43},{"type":"rectangle","version":441,"versionNonce":25033353,"isDeleted":false,"id":"gkUJZTQdRwmdDuF_eNGI1","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-16,"y":-181.2578125,"strokeColor":"#1e1e1e","backgroundColor":"#a5d8ff","width":120,"height":81,"seed":598489066,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"ZWCXfF4t"},{"id":"n12ICDrOwy_LMpIQbGmtN","type":"arrow"},{"id":"r6CGE7OBqOlAKd7uyRbCG","type":"arrow"}],"updated":1715442654563,"link":null,"locked":false},{"type":"text","version":440,"versionNonce":1338414826,"isDeleted":false,"id":"ZWCXfF4t","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-4.039939880371094,"y":-165.7578125,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":96.07987976074219,"height":50,"seed":1643227818,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1706642523455,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"github\nrepository","rawText":"github repository","textAlign":"center","verticalAlign":"middle","containerId":"gkUJZTQdRwmdDuF_eNGI1","originalText":"github repository","lineHeight":1.25,"baseline":43},{"type":"rectangle","version":227,"versionNonce":485875593,"isDeleted":false,"id":"rc8XBxqDkdFrxymxl1csq","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":197.5,"y":-225.7578125,"strokeColor":"#1e1e1e","backgroundColor":"#ffec99","width":123,"height":65,"seed":143900790,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"dVOvLm8D"},{"id":"jiYH0MVCxXhJ_KUmL9Xj_","type":"arrow"}],"updated":1715442658916,"link":null,"locked":false},{"type":"text","version":181,"versionNonce":872613481,"isDeleted":false,"id":"dVOvLm8D","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":224.8100357055664,"y":-218.2578125,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":68.37992858886719,"height":50,"seed":1533329654,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1715442658916,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"vercel\nproject","rawText":"vercel project","textAlign":"center","verticalAlign":"middle","containerId":"rc8XBxqDkdFrxymxl1csq","originalText":"vercel project","lineHeight":1.25,"baseline":43},{"type":"rectangle","version":44,"versionNonce":1707070698,"isDeleted":false,"id":"8aCKjzBgSqQ7_igB1mAGP","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-191,"y":-138.2578125,"strokeColor":"#1e1e1e","backgroundColor":"#b2f2bb","width":103,"height":85,"seed":972351222,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"kxMsUP4p"},{"id":"ldmdx5jtoMbblHkeKbdof","type":"arrow"}],"updated":1706645098396,"link":null,"locked":false},{"type":"text","version":38,"versionNonce":1558591978,"isDeleted":false,"id":"kxMsUP4p","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-171.30997467041016,"y":-133.2578125,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":63.61994934082031,"height":75,"seed":14163894,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1706642412915,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"digital\ngarden\nplugin","rawText":"digital garden plugin","textAlign":"center","verticalAlign":"middle","containerId":"8aCKjzBgSqQ7_igB1mAGP","originalText":"digital garden plugin","lineHeight":1.25,"baseline":68},{"type":"arrow","version":648,"versionNonce":1932834439,"isDeleted":false,"id":"ldmdx5jtoMbblHkeKbdof","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-264.3007609758763,"y":-40.628876771700604,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":72.3007609758763,"height":52.21424688186033,"seed":345786218,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1715442632844,"link":null,"locked":false,"startBinding":{"elementId":"ofi8gyPudedckbmWUv3_5","gap":4.699239024123699,"focus":0.6944744343689712},"endBinding":{"elementId":"8aCKjzBgSqQ7_igB1mAGP","gap":1,"focus":0.4391868319199764},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[72.3007609758763,-52.21424688186033]]},{"type":"arrow","version":508,"versionNonce":2024249639,"isDeleted":false,"id":"n12ICDrOwy_LMpIQbGmtN","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-90,"y":-96.24818912606591,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":71,"height":53.35150972421354,"seed":1291842538,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1715442632843,"link":null,"locked":false,"startBinding":null,"endBinding":{"elementId":"gkUJZTQdRwmdDuF_eNGI1","gap":3,"focus":0.6564403161136994},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[71,-53.35150972421354]]},{"type":"arrow","version":175,"versionNonce":8933705,"isDeleted":false,"id":"jiYH0MVCxXhJ_KUmL9Xj_","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":103,"y":-141.2578125,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":88.5,"height":49.01415683069456,"seed":833963818,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1715442658917,"link":null,"locked":false,"startBinding":null,"endBinding":{"elementId":"rc8XBxqDkdFrxymxl1csq","gap":6,"focus":0.5167890870933892},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[88.5,-49.01415683069456]]},{"type":"rectangle","version":292,"versionNonce":601584649,"isDeleted":false,"id":"mj627ESHemU_RLE2RgtZA","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":188.5,"y":-103.88671875,"strokeColor":"#1e1e1e","backgroundColor":"#ffec99","width":123,"height":65,"seed":361753991,"groupIds":[],"frameId":null,"roundness":{"type":3},"boundElements":[{"type":"text","id":"V5ru4AHZ"},{"id":"r6CGE7OBqOlAKd7uyRbCG","type":"arrow"}],"updated":1715442657185,"link":null,"locked":false},{"type":"text","version":255,"versionNonce":1648495337,"isDeleted":false,"id":"V5ru4AHZ","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":215.8100357055664,"y":-96.38671875,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":68.37992858886719,"height":50,"seed":1416012967,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1715442657185,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"netlify\nproject","rawText":"netlify\nproject","textAlign":"center","verticalAlign":"middle","containerId":"mj627ESHemU_RLE2RgtZA","originalText":"netlify\nproject","lineHeight":1.25,"baseline":43},{"id":"r6CGE7OBqOlAKd7uyRbCG","type":"arrow","x":105,"y":-140.38053355044212,"width":82.5,"height":64.58155315260458,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"#ffec99","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"roundness":{"type":2},"seed":933985863,"version":93,"versionNonce":1149838505,"isDeleted":false,"boundElements":null,"updated":1715442657185,"link":null,"locked":false,"points":[[0,0],[82.5,64.58155315260458]],"lastCommittedPoint":null,"startBinding":{"elementId":"gkUJZTQdRwmdDuF_eNGI1","focus":-0.5392372491019516,"gap":1},"endBinding":{"elementId":"mj627ESHemU_RLE2RgtZA","focus":-0.5519805982215037,"gap":1},"startArrowhead":null,"endArrowhead":"arrow"}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"#ffec99","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":583.5,"scrollY":360.62890625,"zoom":{"value":2},"currentItemRoundness":"round","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Drawing_2024-01-30_1417.21.excalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>


```mermaid
flowchart LR

obsidianVault ---> digitalGarden --> githubRepository --> vercelProject
githubRepository --> netlifyProject
```
### Para el hosting

- Tener una cuenta en GitHub
- Tener una cuenta en Vercel
- Entrar a la página del repositorio del template [oleeskild/digitalgarden](https://github.com/oleeskild/digitalgarden) y pulsar el botón Deploy
	- Vercel creará el repositorio en la cuenta de GitHub
	- Tomar nota del nombre del repositorio para ingresarlo luego en la configuración del plugin
- En la cuenta de GitHub, crear un Personal Access Token (PAT) de tipo Fine Grained, con settings como estos:
	- Token Name: 2024-Digital Garden
	- Expiration: Custom: 2025-01-01
	- Description: Publishing content to the digital garden
	- Resource owner: akobashikawa
	- Only select repositories: digital-garden
	- Permissions:
		- Contents: Access: Read and write
		- Pull requests: Access: Read and write
- Generar el PAT y copiarlo a un lugar seguro para ingresarlo luego en la configuración del plugin.

### En la máquina local

- Tener instalado Obsidian
- Crear un nuevo vault, llamado Digital Garden, por ejemplo
- En ese vault, instalar el plugin Digital Garden
- En la configuración de Digital Garden, colocar valores similares a:
	- GitHub Authentication
		- GitHub repo name: digital-garden
		- GitHub Username: akobashikawa
		- GitHub token: github_pat_xxx
			- Es el PAT que se generó en GitHub
	- URL
		- Base URL: https://akc-digital-garden.vercel.app
- Para configurar la apariencia:
	- Features, Global Note Settings, Manage Note Settings

## Cómo hacer el despliegue en otro lugar

- La documentación supone que usamos Vercel, que ofrece un servicio de hosting de sites estáticos gratuito.
- También se puede hacer el despliegue en otro hosting, como Netlify, que ofrece un servicio similar, o en un hosting propio.
	- Para eso hay que adaptar el paso del botón Deploy y, en lugar de eso:
		- En GitHub, crear manualmente un repositorio para el digital garden
			- Por ejemplo: https://github.com/akobashikawa/digital-garden.git
		- En la máquina local, clonar el repositorio del template
			- git clone https://github.com/oleeskild/digitalgarden.git
		- Cambiar el remote para que apunte a nuestro repo, por ejemplo:
			- git remote set-url origin https://github.com/akobashikawa/digital-garden.git
		- En Netlify, importar nuestro repo. En un hosting propio, hay que hacer la configuración del despliegue apropiadamente, por ejemplo con Jenkins.

## Problema para desplegar en Windows

- npm run build
- Al ejecutarlo en Ubuntu 22.04, ok
- Al ejecutarlo en Windows 10 ó Windows Server 19, obtengo:
	- Error in your Eleventy config file '.eleventy.js'
	- Something went wrong installing the "sharp" module
- sharp es usado por:
	- eleventy-img
	- eleventy-plugin-gen-favicons
- Al 20240130, no he logrado solucionar este problema

